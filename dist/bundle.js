!function(e){var t={};function n(i){if(t[i])return t[i].exports;var s=t[i]={i:i,l:!1,exports:{}};return e[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){"use strict";n.r(t);var i=function(){function e(){}return e.prototype=createjs.extend(e,createjs.Shape),e.prototype.getVelocity=function(e,t){var n=e*Math.PI/180;return{vx:t*Math.cos(n),vy:t*Math.sin(n)}},e.prototype.getVector=function(e,t){return{course:180*Math.atan2(t,e)/Math.PI,speed:Math.sqrt(Math.pow(e,2)+Math.pow(t,2))}},e.prototype.returnString=function(e){return e+" and things"},e.prototype.move=function(e){console.log("Moving..."),createjs.Tween.get(this).to({y:this.y+e},500)},e};var s=function(e){function t(e={}){this.Shape_constructor(),this.name=e.name||"",this.x=e.x||0,this.y=e.y||0,this.width=25,this.height=15,this.regX=e.regX||0,this.regY=e.regY||0,this.setBounds(0,0,this.width,this.height),this.graphics.beginFill("#FFF").drawRect(0,-this.height,this.width,this.height),console.log(["Sled()",this])}return t.prototype=createjs.extend(t,e.Mover),t.prototype.moveTeam=function(e){},t.prototype.update=function(e){this.graphics=grSled},t};var o=function(e){function t(e={}){this.Shape_constructor(),this.name=e.name||"",this.x=e.x||0,this.y=e.y||0,this.width=15,this.height=10,this.regX=e.regX||0,this.regY=e.regY||0,this.setBounds(0,0,this.width,this.height),this.graphics.beginFill("#BADA55").drawRect(0,-this.height,this.width,this.height),console.log(["Dog()",this])}return t.prototype=createjs.extend(t,e.Mover),t.prototype.update=function(e){},t};var a=function(e,t){let n={props:{width:600,height:400,textColor:"#FFFD8A",keycodes:{p:80,n:78,SPACE:32,LEFT:37,RIGHT:39,UP:38,DOWN:40},handlers:{onkeydown:function(){},onkeyup:function(){}}},rowSize:50,arrTeam:[],displayText:{fps:{},level:{}},numSleds:3,level:{current:0,knobs:{}},pause:function(){createjs.Ticker.paused=!0},play:function(){createjs.Ticker.paused=!1},init:function(){console.log("GAME.init()"),void 0!==document.hidden?(n.hidden="hidden",n.visibilityChange="visibilitychange",n.visibilityState="visibilityState"):void 0!==document.mozHidden?(n.hidden="mozHidden",n.visibilityChange="mozvisibilitychange",n.visibilityState="mozVisibilityState"):void 0!==document.msHidden?(n.hidden="msHidden",n.visibilityChange="msvisibilitychange",n.visibilityState="msVisibilityState"):void 0!==document.webkitHidden&&(n.hidden="webkitHidden",n.visibilityChange="webkitvisibilitychange",n.visibilityState="webkitVisibilityState"),n.document_hidden=document[n.hidden],n.setup.createCanvas(e),n.state.swap("LOADING",!0),n.setup.addListeners(),n.play()},setup:{createCanvas:function(){n.canvas=document.createElement("canvas"),n.canvas.width=n.props.width,n.canvas.height=n.props.height,n.context=n.canvas.getContext("2d"),document.getElementById(e).appendChild(n.canvas),n.stage=new createjs.Stage(n.canvas),n.stage.setBounds(0,0,n.props.width,n.props.height)},addListeners:function(){document.addEventListener(n.visibilityChange,function(){n.document_hidden!==document[n.hidden]&&(document[n.hidden]?n.pause():n.play(),n.document_hidden=document[n.hidden])}),document.onkeydown=function(e){n.props.handlers.onkeydown(e||window.event),e.preventDefault()},document.onkeyup=function(e){n.props.handlers.onkeyup(e||window.event),e.preventDefault()},createjs.Ticker.on("tick",n.tick),createjs.Ticker.timingMode=createjs.Ticker.RAF}},tick:function(e){!1===createjs.Ticker.paused&&(n.state.current.frame(createjs.Ticker.getEventTime()),n.stage.update(e))},getFPS:function(e){return parseInt(createjs.Ticker.getMeasuredFPS())},utils:{resetListeners:function(){n.props.handlers.onkeydown=function(){},n.props.handlers.onkeyup=function(){}},updateText:function(e){createjs.Ticker.getTicks()%20==0&&(n.displayText.fps.text=n.getFPS(e)),n.displayText.level.text="Level: "+n.level.current},hitTestBox:function(e,t){var n=e.getTransformedBounds(),i=t.getTransformedBounds(),s=n.x,o=i.x,a=n.x+n.width,r=i.x+i.width,c=n.y,l=i.y,d=n.y+n.height,u=i.y+i.height;return!(d<l||c>u||a<o||s>r)},hitTestDistance:function(e,t){var n=e.getTransformedBounds(),i=t.getTransformedBounds(),s=i.x+t.regX-(n.x+e.regX),o=i.y+t.regY-(n.y+e.regY);return Math.sqrt(s*s+o*o)<e.radius+t.radius},checkHits:function(){}},state:{current:null,swap:function(e,t=!1){!0!==t&&(n.utils.resetListeners(),n.state.current.cleanup()),n.state.current=n.state[e],n.state.current.setup()},LOADING:{setup:function(e){},frame:function(e){n.state.swap("TITLE")},cleanup:function(e){}},TITLE:{setup:function(e){n.props.handlers.onkeyup=function(e){switch(e.which||e.keyCode){case n.props.keycodes.SPACE:n.state.swap("NEW_GAME");break;default:return}};var t=new createjs.Text("Some Kind of Game-type Thing","18px Arial","#ffffff");t.textAlign="center",t.x=n.canvas.width/2,t.y=n.canvas.height/2-20,t.name="title",n.stage.addChild(t);var i=new createjs.Text("Press spacebar to continue...","12px   Arial","#ffffff");i.textAlign="center",i.x=n.canvas.width/2,i.y=n.canvas.height/2+10,i.name="subtitle",n.stage.addChild(i),n.state.swap("NEW_GAME")},frame:function(e){},cleanup:function(e){n.stage.removeChild(n.stage.getChildByName("title")),n.stage.removeChild(n.stage.getChildByName("subtitle"))}},NEW_GAME:{setup:function(){console.log("NEW_GAME.setup()"),n.displayText.fps=new createjs.Text("FPS","14px Arial",n.props.textColor),n.displayText.fps.textAlign="right",n.displayText.fps.x=n.canvas.width-10,n.displayText.fps.y=10,n.displayText.fps.name="txtFPS",n.stage.addChild(n.displayText.fps),n.displayText.level=new createjs.Text("Level: "+n.level.current,"14px Arial",n.props.textColor),n.displayText.level.textAlign="right",n.displayText.level.x=n.canvas.width-10,n.displayText.level.y=30,n.displayText.level.name="txtLevel",n.stage.addChild(n.displayText.level)},frame:function(e){n.state.swap("NEW_LEVEL")},cleanup:function(){console.log("---- NEW_GAME.cleanup()")}},NEW_LEVEL:{setup:function(){console.log("NEW_LEVEL.setup()"),n.level.current++},frame:function(e){n.state.swap("PLAYER_START")},cleanup:function(){console.log("---- NEW_LEVEL.cleanup()")}},PLAYER_START:{setup:function(){console.log("PLAYER_START.setup()"),n.leadDog=new t.Dog({name:"leadDog"}),n.swingDog=new t.Dog({name:"swingDog"}),n.teamDog=new t.Dog({name:"teamDog"}),n.wheelDog=new t.Dog({name:"wheelDog"}),n.sled=new t.Sled({name:"sled",x:50,y:n.canvas.height/2}),n.sledTeam=[n.leadDog,n.swingDog,n.teamDog,n.wheelDog,n.sled],n.stage.addChild(n.sled);for(var e=n.sledTeam.length-2;e>=0;e--){let t=n.sledTeam[e],i=n.sledTeam[e+1];t.x=i.x+i.width+15,t.y=n.sled.y,n.stage.addChild(t),console.log(i.x,i.width,t.name,t.x)}console.log(n.stage.children)},frame:function(e){n.utils.updateText(e),n.state.swap("PLAY_LEVEL")},cleanup:function(){console.log("---- PLAYER_START.cleanup()")}},PLAY_LEVEL:{setup:function(){console.log("PLAY_LEVEL.setup()"),n.props.handlers.onkeydown=function(e){switch(e.which||e.keyCode){case n.props.keycodes.p:!0===createjs.Ticker.paused?n.play():n.pause();break;case n.props.keycodes.LEFT:console.log("left");break;case n.props.keycodes.UP:console.log("up"),n.sled.move(-n.rowSize);break;case n.props.keycodes.RIGHT:console.log("right");break;case n.props.keycodes.DOWN:console.log("down"),n.sled.move(n.rowSize);break;case n.props.keycodes.SPACE:console.log("space");break;default:return}},n.props.handlers.onkeyup=function(e){switch(e.which||e.keyCode){case n.props.keycodes.UP:case n.props.keycodes.LEFT:case n.props.keycodes.RIGHT:break;default:return}}},frame:function(e){n.utils.updateText()},cleanup:function(){console.log("---- PLAY_LEVEL.cleanup()"),n.utils.resetListeners()}},PLAYER_DIE:{setup:function(){console.log("PLAYER_DIE.setup()")},frame:function(e){console.log("-- PLAYER_DIE.frame()"),n.state.swap("GAME_OVER")},cleanup:function(){console.log("---- PLAYER_DIE.cleanup()")}},GAME_OVER:{setup:function(){console.log("GAME_OVER.setup()"),n.props.handlers.onkeyup=function(e){switch(e.which||e.keyCode){case n.props.keycodes.n:n.state.swap("TITLE");break;default:return}};var e=new createjs.Text("GAME OVER","24px Arial","#ffffff");e.textAlign="center",e.x=n.canvas.width/2,e.y=n.canvas.height/2-20,e.name="title",n.stage.addChild(e);var t=new createjs.Text("Hit the 'n' for a new game.","12px Arial","#ffffff");t.textAlign="center",t.x=n.canvas.width/2,t.y=n.canvas.height/2+10,t.name="subtitle",n.stage.addChild(t)},frame:function(e){n.utils.updateText()},cleanup:function(){console.log("---- GAME_OVER.cleanup()"),n.utils.resetListeners(),n.stage.removeAllChildren()}}}};return console.log([e,t,n]),n};let r={};r.Mover=createjs.promote(i(),"Shape"),r.Sled=createjs.promote(s(r),r.Mover),r.Dog=createjs.promote(o(r),r.Mover),a("canvasContainer",r).init()},function(e,t,n){n(0),e.exports=n(6)},,,,,function(e,t){}]);