!function(e){var t={};function s(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=t,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},s.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=1)}([function(e,t,s){"use strict";s.r(t);var n=function(e){function t(e={}){this.Shape_constructor(),this.name=e.name||"sled",this.x=e.x||0,this.y=e.y||0,this.width=25,this.height=15,this.regX=e.regX||0,this.regY=e.regY||0,this.ready=!0,this.setBounds(0,0,this.width,this.height),this.graphics=this.setType("blah",this)}return t.prototype=createjs.extend(t,createjs.Shape),t.prototype.setType=function(e,t){var s=new createjs.Graphics;switch(e){case"blah":s.beginFill("#000").drawRect(0,-t.height,t.width,t.height);break;default:s.beginFill("#000").drawRect(0,-t.height,t.width,t.height)}return s},t.prototype.moveTeam=function(e){let t=this;t.ready=!1;let s=0;for(var n=0;n<t.team.length;n++){let a=t.team[n];createjs.Tween.get(a).wait(s).to({y:e},500,createjs.Ease.quadInOut).call(function(){"sled"===a.name&&(t.ready=!0)}),s+=100}},t.prototype.update=function(e){let t=this,s=7,n=-5;t.graphics.clear(),t.graphics=t.setType("blah",t),t.graphics.beginStroke("#000").setStrokeStyle(2),t.graphics.moveTo(t.width,n);for(var a=t.team.length-2;a>=0;a--){let e=t.team[a].localToGlobal(s,n),i=t.globalToLocal(e.x,e.y);t.graphics.lineTo(i.x,i.y).moveTo(i.x,i.y)}},t};var a=function(e){function t(e={}){this.Shape_constructor(),this.name=e.name||"",this.x=e.x||0,this.y=e.y||0,this.width=15,this.height=10,this.regX=e.regX||0,this.regY=e.regY||0,this.color=e.color||"#fff",this.ready=!0,this.setBounds(0,0,this.width,this.height),this.graphics.beginFill(this.color).drawRect(0,-this.height,this.width,this.height)}return t.prototype=createjs.extend(t,createjs.Shape),t.prototype.update=function(e){},t};var i=function(e){function t(e={}){console.log("obstacle()"),this.Shape_constructor(),this.name=e.name||"",this.x=e.x||0,this.y=e.y||0,this.width=25,this.height=15,this.regX=e.regX||0,this.regY=e.regY||0,this.color=e.color||"#BADA55",this.added=!1,this.type=e.type||"regular",this.graphics=this.setType(this.type,this)}return t.prototype=createjs.extend(t,createjs.Shape),t.prototype.setType=function(e,t){console.log("*** setType()");var s=new createjs.Graphics;switch(s.beginFill(t.color),e){case"regular":t.width=25,t.height=15,s.drawRect(0,-t.height,t.width,t.height);break;case"wide":t.width=50,t.height=15,s.drawRect(0,-t.height,t.width,t.height);break;default:s.drawRect(0,-t.height,t.width,t.height)}return t.setBounds(0,0,t.width,t.height),s},t.prototype.update=function(e,t){},t};var o=function(e,t){let s={props:{now:null,then:null,width:600,height:400,textColor:"#333333",keycodes:{p:80,n:78,SPACE:32,LEFT:37,RIGHT:39,UP:38,DOWN:40},handlers:{onkeydown:function(){},onkeyup:function(){}}},currentRow:2,rows:[80,144,208,272,336],sledTeam:[],obstacles:[],displayText:{fps:{},level:{}},numSleds:3,level:{current:1,baseSpeed:120,knobs:{speed:5}},pause:function(){createjs.Ticker.paused=!0},play:function(){createjs.Ticker.paused=!1},init:function(){void 0!==document.hidden?(s.hidden="hidden",s.visibilityChange="visibilitychange",s.visibilityState="visibilityState"):void 0!==document.mozHidden?(s.hidden="mozHidden",s.visibilityChange="mozvisibilitychange",s.visibilityState="mozVisibilityState"):void 0!==document.msHidden?(s.hidden="msHidden",s.visibilityChange="msvisibilitychange",s.visibilityState="msVisibilityState"):void 0!==document.webkitHidden&&(s.hidden="webkitHidden",s.visibilityChange="webkitvisibilitychange",s.visibilityState="webkitVisibilityState"),s.document_hidden=document[s.hidden],s.setup.createCanvas(e),s.state.swap("LOADING",!0),s.setup.addListeners(),s.play()},setup:{createCanvas:function(){s.canvas=document.createElement("canvas"),s.canvas.width=s.props.width,s.canvas.height=s.props.height,s.context=s.canvas.getContext("2d"),document.getElementById(e).appendChild(s.canvas),s.stage=new createjs.Stage(s.canvas),s.stage.setBounds(0,0,s.props.width,s.props.height)},addListeners:function(){document.addEventListener(s.visibilityChange,function(){s.document_hidden!==document[s.hidden]&&(document[s.hidden]?s.pause():s.play(),s.document_hidden=document[s.hidden])}),document.onkeydown=function(e){s.props.handlers.onkeydown(e||window.event),e.preventDefault()},document.onkeyup=function(e){s.props.handlers.onkeyup(e||window.event),e.preventDefault()},createjs.Ticker.on("tick",s.tick),createjs.Ticker.timingMode=createjs.Ticker.RAF}},tick:function(e){!1===createjs.Ticker.paused&&(s.state.current.frame(s.updateInterval()),s.stage.update(e))},getFPS:function(e){return parseInt(createjs.Ticker.getMeasuredFPS())},updateInterval:function(){s.props.now=Date.now();var e=(s.props.now-s.props.then)/1e3;return s.props.then=s.props.now,e},utils:{getRandom:function(e){return Math.floor(Math.random()*Math.floor(e))},resetListeners:function(){s.props.handlers.onkeydown=function(){},s.props.handlers.onkeyup=function(){}},updateText:function(e){createjs.Ticker.getTicks()%20==0&&(s.displayText.fps.text="FPS: "+s.getFPS(e)),s.displayText.level.text="Level: "+s.level.current},addObstacle:function(e,n,a=null){var i=new t.Obstacle({type:a,x:e,y:n});s.obstacles.push(i),s.stage.addChild(i)},addObstacleSet:function(e){let t=s.utils.getRandom(3)+1,n=[].concat(s.rows),a=[];console.log("numObj",t);for(var i=0;i<t;i++){let e=s.utils.getRandom(n.length);a.push(n[e]),n.splice(e,1)}for(console.log([s.rows,a,n]),i=0;i<a.length;i++)s.utils.addObstacle(e,a[i],"regular")},updateObstacles:function(e){if(0===s.obstacles.length)return;let t=s.level.baseSpeed+s.level.knobs.speed;for(var n=s.obstacles.length-1;n>=0;n--)s.obstacles[n].x<-(s.obstacles[n].width+10)?(s.stage.removeChild(s.obstacles[n]),s.obstacles.splice(n,1)):s.obstacles[n].update(e,t)},hitTestBox:function(e,t){var s=e.getTransformedBounds(),n=t.getTransformedBounds(),a=s.x,i=n.x,o=s.x+s.width,r=n.x+n.width,l=s.y,c=n.y,d=s.y+s.height,h=n.y+n.height;return!(d<c||l>h||o<i||a>r)},hitTestDistance:function(e,t){var s=e.getTransformedBounds(),n=t.getTransformedBounds(),a=n.x+t.regX-(s.x+e.regX),i=n.y+t.regY-(s.y+e.regY);return Math.sqrt(a*a+i*i)<e.radius+t.radius},checkHits:function(){}},state:{current:null,swap:function(e,t=!1){!0!==t&&(s.utils.resetListeners(),s.state.current.cleanup()),s.state.current=s.state[e],s.state.current.setup()},LOADING:{setup:function(e){},frame:function(e){s.state.swap("TITLE")},cleanup:function(e){}},TITLE:{setup:function(e){s.props.handlers.onkeyup=function(e){switch(e.which||e.keyCode){case s.props.keycodes.SPACE:s.state.swap("NEW_GAME");break;default:return}};var t=new createjs.Text("Some Kind of Game-type Thing","18px Arial","#ffffff");t.textAlign="center",t.x=s.canvas.width/2,t.y=s.canvas.height/2-20,t.name="title",s.stage.addChild(t);var n=new createjs.Text("Press spacebar to continue...","12px   Arial","#ffffff");n.textAlign="center",n.x=s.canvas.width/2,n.y=s.canvas.height/2+10,n.name="subtitle",s.stage.addChild(n),s.state.swap("NEW_GAME")},frame:function(e){},cleanup:function(e){s.stage.removeChild(s.stage.getChildByName("title")),s.stage.removeChild(s.stage.getChildByName("subtitle"))}},NEW_GAME:{setup:function(){let e=(new createjs.Graphics).beginFill("#fff").drawRect(0,0,s.props.width,s.props.height);s.background=new createjs.Shape(e),s.stage.addChild(s.background),s.displayText.level=new createjs.Text("Level: "+s.level.current,"24px Arial",s.props.textColor),s.displayText.level.textAlign="right",s.displayText.level.x=s.canvas.width-10,s.displayText.level.y=10,s.displayText.level.name="txtLevel",s.stage.addChild(s.displayText.level),s.displayText.sleds=new createjs.Text("Sleds: "+s.numSleds,"24px Arial",s.props.textColor),s.displayText.sleds.textAlign="right",s.displayText.sleds.x=s.canvas.width-10,s.displayText.sleds.y=40,s.displayText.sleds.name="txtSleds",s.stage.addChild(s.displayText.sleds),s.displayText.fps=new createjs.Text("","24px Arial",s.props.textColor),s.displayText.fps.textAlign="right",s.displayText.fps.x=s.canvas.width-10,s.displayText.fps.y=70,s.displayText.fps.name="txtFPS",s.stage.addChild(s.displayText.fps)},frame:function(e){s.state.swap("NEW_LEVEL")},cleanup:function(){}},NEW_LEVEL:{setup:function(){s.level.current++},frame:function(e){s.state.swap("PLAYER_START")},cleanup:function(){}},PLAYER_START:{setup:function(){s.leadDog=new t.Dog({name:"leadDog",color:"#BADA55"}),s.swingDog=new t.Dog({name:"swingDog",color:"#f00"}),s.teamDog=new t.Dog({name:"teamDog",color:"#0f0"}),s.wheelDog=new t.Dog({name:"wheelDog",color:"#00f"}),s.sled=new t.Sled({x:50,y:s.rows[s.currentRow]}),s.sledTeam=[s.leadDog,s.swingDog,s.teamDog,s.wheelDog,s.sled],s.sled.team=s.sledTeam;for(var e=s.sledTeam.length-2;e>=0;e--){let t=s.sledTeam[e],n=s.sledTeam[e+1];t.x=n.x+n.width+15,t.y=s.sled.y,s.stage.addChild(t)}s.stage.addChild(s.sled),s.utils.addObstacleSet(300)},frame:function(e){s.utils.updateText(e),s.state.swap("PLAY_LEVEL")},cleanup:function(){}},PLAY_LEVEL:{setup:function(){console.log("PLAY_LEVEL.setup()"),s.props.handlers.onkeydown=function(e){switch(e.which||e.keyCode){case s.props.keycodes.p:!0===createjs.Ticker.paused?s.play():s.pause();break;case s.props.keycodes.LEFT:console.log("left");break;case s.props.keycodes.UP:console.log("up"),s.currentRow>0&&!0===s.sled.ready&&(s.currentRow--,s.sled.moveTeam(s.rows[s.currentRow]));break;case s.props.keycodes.RIGHT:console.log("right");break;case s.props.keycodes.DOWN:console.log("down",s.sled),s.currentRow<s.rows.length-1&&!0===s.sled.ready&&(s.currentRow++,s.sled.moveTeam(s.rows[s.currentRow]));break;case s.props.keycodes.SPACE:console.log("space");break;default:return}},s.props.handlers.onkeyup=function(e){switch(e.which||e.keyCode){case s.props.keycodes.UP:case s.props.keycodes.LEFT:case s.props.keycodes.RIGHT:break;default:return}}},frame:function(e){s.utils.updateText();for(var t=s.sledTeam.length-1;t>=0;t--)s.sledTeam[t].update(e);s.utils.updateObstacles(e)},cleanup:function(){console.log("---- PLAY_LEVEL.cleanup()"),s.utils.resetListeners()}},PLAYER_DIE:{setup:function(){console.log("PLAYER_DIE.setup()")},frame:function(e){console.log("-- PLAYER_DIE.frame()"),s.state.swap("GAME_OVER")},cleanup:function(){console.log("---- PLAYER_DIE.cleanup()")}},GAME_OVER:{setup:function(){console.log("GAME_OVER.setup()"),s.props.handlers.onkeyup=function(e){switch(e.which||e.keyCode){case s.props.keycodes.n:s.state.swap("TITLE");break;default:return}};var e=new createjs.Text("GAME OVER","24px Arial","#ffffff");e.textAlign="center",e.x=s.canvas.width/2,e.y=s.canvas.height/2-20,e.name="title",s.stage.addChild(e);var t=new createjs.Text("Hit the 'n' for a new game.","12px Arial","#ffffff");t.textAlign="center",t.x=s.canvas.width/2,t.y=s.canvas.height/2+10,t.name="subtitle",s.stage.addChild(t)},frame:function(e){s.utils.updateText()},cleanup:function(){console.log("---- GAME_OVER.cleanup()"),s.utils.resetListeners(),s.stage.removeAllChildren()}}}};return s};let r={};r.Sled=createjs.promote(n(),"Shape"),r.Dog=createjs.promote(a(),"Shape"),r.Obstacle=createjs.promote(i(),"Shape"),window.UglyDogs=o("canvasContainer",r),UglyDogs.init(),console.log(UglyDogs)},function(e,t,s){s(0),e.exports=s(6)},,,,,function(e,t){}]);