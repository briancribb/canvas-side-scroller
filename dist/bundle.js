!function(e){var t={};function n(s){if(t[s])return t[s].exports;var i=t[s]={i:s,l:!1,exports:{}};return e[s].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:s})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){"use strict";n.r(t);var s=function(e){function t(e={}){this.Shape_constructor(),this.name=e.name||"",this.x=e.x||0,this.y=e.y||0,this.width=25,this.height=15,this.regX=e.regX||0,this.regY=e.regY||0,this.ready=!0,this.setBounds(0,0,this.width,this.height),this.graphics=this.setType("blah",this)}return t.prototype=createjs.extend(t,createjs.Shape),t.prototype.setType=function(e,t){console.log("*** setType()");var n=new createjs.Graphics;switch(e){case"blah":n.beginFill("#FFF").drawRect(0,-t.height,t.width,t.height);break;default:n.beginFill("#FFF").drawRect(0,-t.height,t.width,t.height)}return n},t.prototype.moveTeam=function(e){let t=this;t.ready=!1;let n=0;for(var s=0;s<t.team.length;s++){let i=t.team[s];createjs.Tween.get(i).wait(n).to({y:e},500).call(function(){"leadDog"===i.name&&(t.ready=!0)}),n+=75}},t.prototype.update=function(e){},t};var i=function(e){function t(e={}){this.Shape_constructor(),this.name=e.name||"",this.x=e.x||0,this.y=e.y||0,this.width=15,this.height=10,this.regX=e.regX||0,this.regY=e.regY||0,this.color=e.color||"#fff",this.setBounds(0,0,this.width,this.height),this.graphics.beginFill(this.color).drawRect(0,-this.height,this.width,this.height)}return t.prototype=createjs.extend(t,createjs.Shape),t.prototype.update=function(e){},t};var a=function(e){function t(e={}){this.Shape_constructor(),this.name=e.name||"",this.x=e.x||0,this.y=e.y||0,this.width=25,this.height=15,this.regX=e.regX||0,this.regY=e.regY||0,this.color=e.color||"#fff",this.setBounds(0,0,this.width,this.height),this.graphics=this.setType("blah",this)}return t.prototype=createjs.extend(t,createjs.Shape),t.prototype.setType=function(e,t){console.log("*** setType()");var n=new createjs.Graphics;switch(n.beginFill(t.color),e){case"blah":n.drawRect(0,-t.height,t.width,t.height);break;default:n.drawRect(0,-t.height,t.width,t.height)}return n},t.prototype.update=function(e){},t};var o=function(e,t){let n={props:{width:600,height:400,textColor:"#FFFD8A",keycodes:{p:80,n:78,SPACE:32,LEFT:37,RIGHT:39,UP:38,DOWN:40},handlers:{onkeydown:function(){},onkeyup:function(){}}},currentRow:2,rows:[80,144,208,272,336],sledTeam:[],displayText:{fps:{},level:{}},numSleds:3,level:{current:1,knobs:{}},pause:function(){createjs.Ticker.paused=!0},play:function(){createjs.Ticker.paused=!1},init:function(){void 0!==document.hidden?(n.hidden="hidden",n.visibilityChange="visibilitychange",n.visibilityState="visibilityState"):void 0!==document.mozHidden?(n.hidden="mozHidden",n.visibilityChange="mozvisibilitychange",n.visibilityState="mozVisibilityState"):void 0!==document.msHidden?(n.hidden="msHidden",n.visibilityChange="msvisibilitychange",n.visibilityState="msVisibilityState"):void 0!==document.webkitHidden&&(n.hidden="webkitHidden",n.visibilityChange="webkitvisibilitychange",n.visibilityState="webkitVisibilityState"),n.document_hidden=document[n.hidden],n.setup.createCanvas(e),n.state.swap("LOADING",!0),n.setup.addListeners(),n.play(),console.log(n)},setup:{createCanvas:function(){n.canvas=document.createElement("canvas"),n.canvas.width=n.props.width,n.canvas.height=n.props.height,n.context=n.canvas.getContext("2d"),document.getElementById(e).appendChild(n.canvas),n.stage=new createjs.Stage(n.canvas),n.stage.setBounds(0,0,n.props.width,n.props.height)},addListeners:function(){document.addEventListener(n.visibilityChange,function(){n.document_hidden!==document[n.hidden]&&(document[n.hidden]?n.pause():n.play(),n.document_hidden=document[n.hidden])}),document.onkeydown=function(e){n.props.handlers.onkeydown(e||window.event),e.preventDefault()},document.onkeyup=function(e){n.props.handlers.onkeyup(e||window.event),e.preventDefault()},createjs.Ticker.on("tick",n.tick),createjs.Ticker.timingMode=createjs.Ticker.RAF}},tick:function(e){!1===createjs.Ticker.paused&&(n.state.current.frame(createjs.Ticker.getEventTime()),n.stage.update(e))},getFPS:function(e){return parseInt(createjs.Ticker.getMeasuredFPS())},utils:{resetListeners:function(){n.props.handlers.onkeydown=function(){},n.props.handlers.onkeyup=function(){}},updateText:function(e){createjs.Ticker.getTicks()%20==0&&(n.displayText.fps.text="FPS: "+n.getFPS(e)),n.displayText.level.text="Level: "+n.level.current},hitTestBox:function(e,t){var n=e.getTransformedBounds(),s=t.getTransformedBounds(),i=n.x,a=s.x,o=n.x+n.width,r=s.x+s.width,c=n.y,d=s.y,l=n.y+n.height,h=s.y+s.height;return!(l<d||c>h||o<a||i>r)},hitTestDistance:function(e,t){var n=e.getTransformedBounds(),s=t.getTransformedBounds(),i=s.x+t.regX-(n.x+e.regX),a=s.y+t.regY-(n.y+e.regY);return Math.sqrt(i*i+a*a)<e.radius+t.radius},checkHits:function(){}},state:{current:null,swap:function(e,t=!1){!0!==t&&(n.utils.resetListeners(),n.state.current.cleanup()),n.state.current=n.state[e],n.state.current.setup()},LOADING:{setup:function(e){},frame:function(e){n.state.swap("TITLE")},cleanup:function(e){}},TITLE:{setup:function(e){n.props.handlers.onkeyup=function(e){switch(e.which||e.keyCode){case n.props.keycodes.SPACE:n.state.swap("NEW_GAME");break;default:return}};var t=new createjs.Text("Some Kind of Game-type Thing","18px Arial","#ffffff");t.textAlign="center",t.x=n.canvas.width/2,t.y=n.canvas.height/2-20,t.name="title",n.stage.addChild(t);var s=new createjs.Text("Press spacebar to continue...","12px   Arial","#ffffff");s.textAlign="center",s.x=n.canvas.width/2,s.y=n.canvas.height/2+10,s.name="subtitle",n.stage.addChild(s),n.state.swap("NEW_GAME")},frame:function(e){},cleanup:function(e){n.stage.removeChild(n.stage.getChildByName("title")),n.stage.removeChild(n.stage.getChildByName("subtitle"))}},NEW_GAME:{setup:function(){n.displayText.level=new createjs.Text("Level: "+n.level.current,"24px Arial",n.props.textColor),n.displayText.level.textAlign="right",n.displayText.level.x=n.canvas.width-10,n.displayText.level.y=10,n.displayText.level.name="txtLevel",n.stage.addChild(n.displayText.level),n.displayText.sleds=new createjs.Text("Sleds: "+n.numSleds,"24px Arial",n.props.textColor),n.displayText.sleds.textAlign="right",n.displayText.sleds.x=n.canvas.width-10,n.displayText.sleds.y=40,n.displayText.sleds.name="txtSleds",n.stage.addChild(n.displayText.sleds),n.displayText.fps=new createjs.Text("","24px Arial",n.props.textColor),n.displayText.fps.textAlign="right",n.displayText.fps.x=n.canvas.width-10,n.displayText.fps.y=70,n.displayText.fps.name="txtFPS",n.stage.addChild(n.displayText.fps)},frame:function(e){n.state.swap("NEW_LEVEL")},cleanup:function(){}},NEW_LEVEL:{setup:function(){n.level.current++},frame:function(e){n.state.swap("PLAYER_START")},cleanup:function(){}},PLAYER_START:{setup:function(){n.leadDog=new t.Dog({name:"leadDog",color:"#BADA55"}),n.swingDog=new t.Dog({name:"swingDog",color:"#f00"}),n.teamDog=new t.Dog({name:"teamDog",color:"#0f0"}),n.wheelDog=new t.Dog({name:"wheelDog",color:"#00f"}),n.sled=new t.Sled({x:50,y:n.rows[n.currentRow]}),n.sledTeam=[n.leadDog,n.swingDog,n.teamDog,n.wheelDog,n.sled],n.sled.team=n.sledTeam,n.stage.addChild(n.sled);for(var e=n.sledTeam.length-2;e>=0;e--){let t=n.sledTeam[e],s=n.sledTeam[e+1];t.x=s.x+s.width+15,t.y=n.sled.y,n.stage.addChild(t)}},frame:function(e){n.utils.updateText(e),n.state.swap("PLAY_LEVEL")},cleanup:function(){}},PLAY_LEVEL:{setup:function(){console.log("PLAY_LEVEL.setup()"),n.props.handlers.onkeydown=function(e){switch(e.which||e.keyCode){case n.props.keycodes.p:!0===createjs.Ticker.paused?n.play():n.pause();break;case n.props.keycodes.LEFT:console.log("left");break;case n.props.keycodes.UP:console.log("up"),n.currentRow>0&&!0===n.sled.ready&&(n.currentRow--,n.sled.moveTeam(n.rows[n.currentRow]));break;case n.props.keycodes.RIGHT:console.log("right");break;case n.props.keycodes.DOWN:console.log("down"),n.currentRow<n.rows.length-1&&!0===n.sled.ready&&(n.currentRow++,n.sled.moveTeam(n.rows[n.currentRow]));break;case n.props.keycodes.SPACE:console.log("space");break;default:return}},n.props.handlers.onkeyup=function(e){switch(e.which||e.keyCode){case n.props.keycodes.UP:case n.props.keycodes.LEFT:case n.props.keycodes.RIGHT:break;default:return}}},frame:function(e){n.utils.updateText();for(var t=n.sledTeam.length-1;t>=0;t--)n.sledTeam[t].update()},cleanup:function(){console.log("---- PLAY_LEVEL.cleanup()"),n.utils.resetListeners()}},PLAYER_DIE:{setup:function(){console.log("PLAYER_DIE.setup()")},frame:function(e){console.log("-- PLAYER_DIE.frame()"),n.state.swap("GAME_OVER")},cleanup:function(){console.log("---- PLAYER_DIE.cleanup()")}},GAME_OVER:{setup:function(){console.log("GAME_OVER.setup()"),n.props.handlers.onkeyup=function(e){switch(e.which||e.keyCode){case n.props.keycodes.n:n.state.swap("TITLE");break;default:return}};var e=new createjs.Text("GAME OVER","24px Arial","#ffffff");e.textAlign="center",e.x=n.canvas.width/2,e.y=n.canvas.height/2-20,e.name="title",n.stage.addChild(e);var t=new createjs.Text("Hit the 'n' for a new game.","12px Arial","#ffffff");t.textAlign="center",t.x=n.canvas.width/2,t.y=n.canvas.height/2+10,t.name="subtitle",n.stage.addChild(t)},frame:function(e){n.utils.updateText()},cleanup:function(){console.log("---- GAME_OVER.cleanup()"),n.utils.resetListeners(),n.stage.removeAllChildren()}}}};return n};let r={};r.Sled=createjs.promote(s(),"Shape"),r.Dog=createjs.promote(i(),"Shape"),r.Obstacle=createjs.promote(a(),"Shape"),o("canvasContainer",r).init()},function(e,t,n){n(0),e.exports=n(6)},,,,,function(e,t){}]);